{"version":3,"sources":["components/OctocatCorner.tsx","util/splitWordAndPos.ts","components/SenseDiffLink.tsx","components/FaqItem.tsx","components/Faq.tsx","components/Modal.tsx","config.ts","components/SenseAutosuggest.tsx","components/CustomDimensionModal.tsx","pages/IntroPage.tsx","util/useQueryParams.ts","pages/DiffPage.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["OctocatCorner","href","className","aria-label","width","height","viewBox","style","fill","color","position","top","border","right","aria-hidden","d","transformOrigin","splitWordAndPos","sense","split","rawWord","pos","word","replace","SenseDiffLink","leftSense","rightSense","dest","leftData","rightData","to","FaqItem","title","children","Faq","target","rel","Modal","isOpen","onClose","onRequestClose","overlay","background","content","left","bottom","marginRight","transform","overflow","padding","onClick","API_HOST","process","DropdownIndicator","props","SenseAutosuggest","onChange","useState","query","setQuery","setWord","setPos","allPos","setAllPos","useQuery","fetch","encodeURIComponent","then","res","json","isLoading","error","data","onSelectSense","suggestion","senses","term","map","selectedSense","options","curPos","label","value","minWidth","placeholder","components","opt","find","onInputChange","val","styles","menu","provided","display","option","encodeSense","CustomDimensionModal","setLeftSense","setRightSense","useEffect","destination","IntroPage","isCustomDimensionModalOpen","setIsCustomDimensionModalOpen","useQueryParams","URLSearchParams","useLocation","search","DiffPage","get","message","frontColor","topLeftSenses","topRightSenses","queryClient","QueryClient","App","QueryClientProvider","client","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","ReactModal","setAppElement"],"mappings":"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","file":"static/js/main.c9fceb25.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./OctocatCorner.css\";\n\n// from https://tholman.com/github-corners/\nconst OctocatCorner = () => (\n  <a\n    href=\"https://github.com/chanind/reddit-words\"\n    className=\"OctocatCorner\"\n    aria-label=\"View source on GitHub\"\n  >\n    <svg\n      width=\"80\"\n      height=\"80\"\n      viewBox=\"0 0 250 250\"\n      style={{\n        fill: \"#fff\",\n        color: \"#282c34\",\n        position: \"absolute\",\n        top: 0,\n        border: 0,\n        right: 0,\n      }}\n      aria-hidden=\"true\"\n    >\n      <path d=\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"></path>\n      <path\n        d=\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\"\n        fill=\"currentColor\"\n        style={{ transformOrigin: \"130px 106px\" }}\n        className=\"OctocatCorner-arm\"\n      ></path>\n      <path\n        d=\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\"\n        fill=\"currentColor\"\n        className=\"OctocatCorner-body\"\n      ></path>\n    </svg>\n  </a>\n);\n\nexport default OctocatCorner;\n","const splitWordAndPos = (sense: string) => {\n  const [rawWord, pos] = sense.split(\"|\");\n  const word = rawWord\n    .replace(/_/gi, \" \")\n    .replace(\"&amp;\", \"&\")\n    .replace(\"&amp;\", \"&\")\n    .replace(\"&amp\", \"&\");\n  return { word, pos };\n};\n\nexport default splitWordAndPos;\n","import React, { FC } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport splitWordAndPos from \"../util/splitWordAndPos\";\n\nexport interface SenseDiffLinkProps {\n  leftSense: string;\n  rightSense: string;\n}\n\nconst SenseDiffLink: FC<SenseDiffLinkProps> = ({ leftSense, rightSense }) => {\n  const dest = `/diff?left=${leftSense}&right=${rightSense}`;\n  const leftData = splitWordAndPos(leftSense);\n  const rightData = splitWordAndPos(rightSense);\n  return (\n    <Link\n      to={dest}\n      className=\"flex p-3 rounded border border-blue-100 bg-opacity-5 bg-gray-400 hover:bg-opacity-10\"\n    >\n      <div>\n        <span className=\"inline-block pr-1\">{leftData.word}</span>\n        <span className=\"text-gray-400 text-xs\">{leftData.pos}</span>\n      </div>\n      <div className=\"px-2\"> &minus; </div>\n      <div>\n        <span className=\"inline-block pr-1\">{rightData.word}</span>\n        <span className=\"text-gray-400 text-xs\">{rightData.pos}</span>\n      </div>\n    </Link>\n  );\n};\n\nexport default SenseDiffLink;\n","import React, { FC, ReactNode } from \"react\";\n\ninterface FaqItemProps {\n  title: string;\n  children: ReactNode;\n}\n\nconst FaqItem: FC<FaqItemProps> = ({ title, children }) => (\n  <div>\n    <div className=\"text-xl mb-2\">{title}</div>\n    <p className=\"text-sm text-gray-400\">{children}</p>\n  </div>\n);\n\nexport default FaqItem;\n","import React, { FC } from \"react\";\nimport FaqItem from \"./FaqItem\";\n\nconst Faq: FC = () => (\n  <div className=\"text-left\">\n    <div className=\"my-10\">\n      <FaqItem title=\"How does this work?\">\n        This works by subtracting 2 word vectors to determine a concept which\n        represents the difference between those 2 words, and then finds the 100\n        words in the dataset which have the maximum and minimum scores when\n        projected along that concept dimension. For example, we can get at the\n        concept of \"happiness\" by subtracting the word vector for \"happy\" and\n        the word vector for \"unhappy\". Then, we can find the most and least\n        \"happy\" words in the dataset by projecting the remaining word vectors\n        along that \"happiness\" direction.\n        <br />\n        <br />\n        This can be give insight in two ways. For words where the difference\n        between the words is a clear concept, ex \"happiness\" = \"happy\" -\n        \"unhappy\", the words listed are what Reddit has taught the sense vectors\n        about the concept of \"happiness\". For words whose difference has a less\n        obvious meaning, ex \"Obama\" - \"Trump\" = ?, looking at the listed words\n        can give an idea of what the sense vectors trained on Reddit think the\n        difference is between these 2 words.\n      </FaqItem>\n    </div>\n    <div className=\"my-10\">\n      <FaqItem title=\"Where does this data come from?\">\n        The dataset used is{\" \"}\n        <a\n          className=\"underline\"\n          href=\"https://github.com/explosion/sense2vec#pretrained-vectors\"\n        >\n          Spacy's official pretrained sense2vec sense vectors\n        </a>{\" \"}\n        trained on a dump of Reddit from 2019.{\" \"}\n        <a className=\"underline\" href=\"https://spacy.io/\">\n          Spacy\n        </a>{\" \"}\n        is one of the most popular NLP frameworks for Python.\n      </FaqItem>\n    </div>\n    <div className=\"my-10\">\n      <FaqItem title=\"What are sense vectors, and what are they used for?\">\n        Sense vectors, or{\" \"}\n        <a\n          className=\"underline\"\n          href=\"https://en.wikipedia.org/wiki/Word_embedding\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          word vectors\n        </a>\n        , are a technique used to create numerical vectors from words. Sense\n        vectors are just word vectors that also take into account part of speech\n        of the word as well. These vectors capture features of words\n        mathematically, so it's possible to use these pre-trained word vectors\n        as an input to other AI models and have those models gain the insight\n        that these vectors have already learned. However, these word vectors\n        also learn the inherit biases and idiosyncracies of the data they were\n        trained on, so it's important to be careful when using word vectors that\n        you're not accidentally importing a lot of biases into your model. If\n        you're using word vectors trained on Reddit data, for example, your\n        model is going to have learned some pretty strange stuff!\n      </FaqItem>\n    </div>\n    <div className=\"my-10\">\n      <FaqItem title=\"I have an idea to improve this project!\">\n        Contributions are always welcome! You can check out the code in the{\" \"}\n        <a className=\"underline\" href=\"https://github.com/chanind/reddit-words\">\n          reddit-words github repo\n        </a>{\" \"}\n        and open pull requests and issues there.\n      </FaqItem>\n    </div>\n    <div className=\"my-10\">\n      <FaqItem title=\"Work with me!\">\n        I'm interested in doing a PhD in NLP in 2022, and would love to work\n        with researchers doing NLP work in the meantime. Please reach out at{\" \"}\n        <a className=\"underline\" href=\"mailto:chanindav@gmail.com\">\n          chanindav@gmail.com\n        </a>{\" \"}\n        if you have a project I can be a part of.\n      </FaqItem>\n    </div>\n  </div>\n);\n\nexport default Faq;\n","import React, { FC, ReactNode } from \"react\";\nimport ReactModal from \"react-modal\";\n\ninterface ModalProps {\n  isOpen: boolean;\n  title: string;\n  onClose: () => void;\n  children: ReactNode;\n}\n\nconst Modal: FC<ModalProps> = ({ isOpen, onClose, children, title }) => (\n  <ReactModal\n    isOpen={isOpen}\n    onRequestClose={onClose}\n    style={{\n      overlay: {\n        background: \"rgba(0, 0, 0, 0.5)\",\n      },\n      content: {\n        top: \"50%\",\n        left: \"50%\",\n        right: \"auto\",\n        bottom: \"auto\",\n        marginRight: \"-50%\",\n        transform: \"translate(-50%, -50%)\",\n        overflow: \"visible\",\n        padding: 0,\n        border: \"none\",\n      },\n    }}\n  >\n    <div className=\"bg-gray-800 p-3 rounded border border-gray-500 max-w-full md:max-w-4xl\">\n      <button\n        onClick={onClose}\n        className=\"absolute top-0 right-0 text-gray-500 hover:text-gray-100 text-xl px-4 py-2\"\n      >\n        &times;\n      </button>\n      <h2 className=\"text-2xl mb-5 text-gray-100\">{title}</h2>\n      {children}\n    </div>\n  </ReactModal>\n);\n\nexport default Modal;\n","export const API_HOST =\n  process.env.REACT_APP_API_HOST || \"http://localhost:5000\";\n","import React, { FC, useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport Select, { components } from \"react-select\";\nimport { SearchIcon } from \"@heroicons/react/outline\";\nimport { API_HOST } from \"../config\";\n\ninterface SenseAutosuggestProps {\n  onChange: (sense: string | null) => void;\n}\n\ninterface AutocompleteResult {\n  freq: number;\n  term: string;\n  senses: {\n    pos: string;\n    freq: number;\n  }[];\n}\n\nconst DropdownIndicator = (props: any) => (\n  <components.DropdownIndicator {...props}>\n    <SearchIcon className=\"h-5 w-5\" />\n  </components.DropdownIndicator>\n);\n\n/**\n * Autosuggest dropdown for searching / autocompleting senses\n * This really should be a controlled component, but getting this to work as a controlled component with\n * react-select turns out to be a complete nightmare. It works for now uncontrolled, so, meh\n */\nconst SenseAutosuggest: FC<SenseAutosuggestProps> = ({ onChange }) => {\n  const [query, setQuery] = useState<string>(\"\");\n  const [word, setWord] = useState<string | null>(null);\n  const [pos, setPos] = useState<string | null>(null);\n  const [allPos, setAllPos] = useState<string[] | null>(null);\n  const { isLoading, error, data } = useQuery<AutocompleteResult[]>(\n    `autocomplete-${query}`,\n    () =>\n      fetch(`${API_HOST}/autocomplete?query=${encodeURIComponent(query)}`).then(\n        (res) => res.json()\n      )\n  );\n\n  const onSelectSense = (suggestion: AutocompleteResult) => {\n    setPos(suggestion.senses[0].pos);\n    setWord(suggestion.term);\n    setAllPos(suggestion.senses.map((sense) => sense.pos));\n    const selectedSense = suggestion.term + \"|\" + suggestion.senses[0].pos;\n    onChange(selectedSense);\n  };\n\n  const options = allPos\n    ? allPos.map((curPos) => ({\n        label: curPos,\n        value: curPos,\n      }))\n    : null;\n\n  return (\n    <div>\n      <div className=\"flex\">\n        <div style={{ minWidth: \"200px\" }}>\n          <Select\n            options={data?.map(({ term }) => ({ label: term, value: term }))}\n            isLoading={isLoading}\n            placeholder=\"Search...\"\n            components={{ DropdownIndicator }}\n            onChange={(opt) => {\n              setQuery(opt?.value ?? \"\");\n              if (opt && data) {\n                const selectedSense = data.find(\n                  (res) => res.term === opt.value\n                );\n                if (selectedSense) onSelectSense(selectedSense);\n              }\n            }}\n            onInputChange={(val, ...other) => {\n              if (val !== \"\") {\n                setQuery(val);\n              } else if (word) {\n                setQuery(word);\n              }\n            }}\n            styles={{\n              menu: (provided) => ({\n                ...provided,\n                display: query === \"\" ? \"none\" : \"block\",\n              }),\n            }}\n          />\n        </div>\n        <div style={{ minWidth: \"130px\" }} className=\"pl-2\">\n          {options && (\n            <Select\n              options={options}\n              value={options.find((option) => option.value === pos)}\n              onChange={(opt) => setPos(opt ? opt.value : null)}\n            />\n          )}\n        </div>\n      </div>\n      {error && <span className=\"text-red\">Error: {error}</span>}\n    </div>\n  );\n};\n\nexport default SenseAutosuggest;\n","import React, { FC, useEffect, useState } from \"react\";\nimport Modal from \"./Modal\";\nimport SenseAutosuggest from \"./SenseAutosuggest\";\nimport { Link } from \"react-router-dom\";\n\ninterface CustomDimensionModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst encodeSense = (sense: string) =>\n  encodeURIComponent(sense.replace(/\\s+/gi, \"_\"));\n\nconst CustomDimensionModal: FC<CustomDimensionModalProps> = ({\n  isOpen,\n  onClose,\n}) => {\n  const [leftSense, setLeftSense] = useState<null | string>(null);\n  const [rightSense, setRightSense] = useState<null | string>(null);\n\n  useEffect(() => {\n    if (!isOpen) {\n      setLeftSense(null);\n      setRightSense(null);\n    }\n  }, [isOpen]);\n\n  const destination =\n    leftSense && rightSense\n      ? `/diff?left=${encodeSense(leftSense)}&right=${encodeSense(rightSense)}`\n      : \"\";\n  return (\n    <Modal title=\"Create your Own Dimension\" isOpen={isOpen} onClose={onClose}>\n      <p className=\"text-gray-400\">\n        Choose 2 words to subtract to create an analysis dimension.{\" \"}\n        <span className=\"hidden md:inline\">\n          The results will be other words whose difference is like the\n          difference between the words you select here.\n        </span>\n      </p>\n      <div className=\"flex flex-wrap md:flex-nowrap mt-6 justify-between items-center\">\n        <div className=\"m-3\">\n          <div className=\"text-xs mb-1 text-gray-100\">Left word</div>\n          <SenseAutosuggest onChange={setLeftSense} />\n        </div>\n        <div className=\"m-3\">\n          <div className=\"text-xs mb-1 text-gray-100\">Right word</div>\n          <SenseAutosuggest onChange={setRightSense} />\n        </div>\n      </div>\n\n      <hr className=\"my-5 border-1 border-gray-500\" />\n      <div className=\"flex\">\n        {leftSense && rightSense ? (\n          <Link\n            to={destination}\n            className=\"block p-3 px-10 rounded border border-blue-300 bg-gray-400 bg-opacity-5 hover:bg-opacity-10 text-blue-300\"\n          >\n            Explore Dimension\n          </Link>\n        ) : (\n          <span className=\"block p-3 px-10 rounded border border-gray-500 text-gray-500 select-none\">\n            Explore Dimension\n          </span>\n        )}\n      </div>\n    </Modal>\n  );\n};\n\nexport default CustomDimensionModal;\n","import React, { useState } from \"react\";\nimport SenseDiffLink from \"../components/SenseDiffLink\";\nimport Faq from \"../components/Faq\";\nimport \"./IntroPage.css\";\nimport CustomDimensionModal from \"../components/CustomDimensionModal\";\n\nconst IntroPage = () => {\n  const [isCustomDimensionModalOpen, setIsCustomDimensionModalOpen] =\n    useState(false);\n  return (\n    <>\n      <div className=\"p-2\">\n        <h1 className=\"text-6xl p-10\">Reddit Words</h1>\n        <p>\n          What did{\" \"}\n          <a\n            href=\"https://github.com/explosion/sense2vec\"\n            className=\"underline\"\n          >\n            Spacy's offical sense2vec\n          </a>{\" \"}\n          word vectors learn about the world from Reddit in 2019? Click on a\n          dimension below to find out!\n        </p>\n        <div className=\"flex flex-wrap justify-center pt-10 max-w-screen-lg mx-auto \">\n          <div className=\"p-2\">\n            <SenseDiffLink\n              leftSense=\"Communism|NOUN\"\n              rightSense=\"Capitalism|NOUN\"\n            />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"east|NOUN\" rightSense=\"west|NOUN\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"north|NOUN\" rightSense=\"south|NOUN\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"USA|GPE\" rightSense=\"France|GPE\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"USA|GPE\" rightSense=\"China|GPE\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"smart|ADJ\" rightSense=\"stupid|ADJ\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"Tokyo|GPE\" rightSense=\"New_York|GPE\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"happy|ADJ\" rightSense=\"unhappy|ADJ\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink leftSense=\"Trump|PERSON\" rightSense=\"Obama|PERSON\" />\n          </div>\n          <div className=\"p-2\">\n            <SenseDiffLink\n              leftSense=\"North_Korea|GPE\"\n              rightSense=\"South_Korea|GPE\"\n            />\n          </div>\n        </div>\n        <div className=\"my-10 mx-auto IntroPage-textDivider\">\n          <span className=\"bg-gray-800 px-2\">or</span>\n        </div>\n        <div>\n          <button\n            onClick={() => setIsCustomDimensionModalOpen(true)}\n            className=\"p-3 px-10 rounded border border-blue-300 bg-opacity-5 bg-gray-400 hover:bg-opacity-10 text-blue-300\"\n          >\n            Create your Own Dimension\n          </button>\n        </div>\n        <div className=\"pt-10 max-w-screen-lg mx-auto \">\n          <Faq />\n        </div>\n      </div>\n      <CustomDimensionModal\n        isOpen={isCustomDimensionModalOpen}\n        onClose={() => setIsCustomDimensionModalOpen(false)}\n      />\n    </>\n  );\n};\n\nexport default IntroPage;\n","import { useLocation } from \"react-router-dom\";\n\n/** Helper hook for parsing the query params from react-router */\nconst useQueryParams = () => new URLSearchParams(useLocation().search);\n\nexport default useQueryParams;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport splitWordAndPos from \"../util/splitWordAndPos\";\nimport useQueryParams from \"../util/useQueryParams\";\nimport { API_HOST } from \"../config\";\nimport { useQuery } from \"react-query\";\nimport \"./DiffPage.css\";\nimport { ClapSpinner } from \"react-spinners-kit\";\n\nconst DiffPage = () => {\n  const query = useQueryParams();\n  const left = query.get(\"left\");\n  const right = query.get(\"right\");\n  const { isLoading, error, data } = useQuery<BiasQueryResults>(\n    `${left}-${right}`,\n    () =>\n      fetch(`${API_HOST}/bias-rank?leftSense=${left}&rightSense=${right}`).then(\n        (res) => res.json()\n      )\n  );\n\n  interface BiasQueryResults {\n    topLeftSenses: [string, number][];\n    topRightSenses: [string, number][];\n  }\n\n  return (\n    <div>\n      <div className=\"my-5 mx-3 md:mx-10 md:mb-10 relative\">\n        <Link to=\"/\" className=\"DiffPage-backLink left-0 absolute top-0\">\n          <span className=\"DiffPage-backLinkArrow\">←</span> back\n        </Link>\n        <Link to=\"/\" className=\"text-2xl\">\n          Reddit Words\n        </Link>\n      </div>\n\n      {left && right ? (\n        <>\n          <div className=\"text-4xl flex justify-center gap-1\">\n            <div>\n              <span className=\"pr-2\">{splitWordAndPos(left).word}</span>\n              <span className=\"text-gray-400 text-xl hidden md:inline\">\n                {splitWordAndPos(left).pos}\n              </span>\n            </div>\n            <div className=\"px-2\">&minus;</div>\n            <div>\n              <span className=\"pr-2\">{splitWordAndPos(right).word}</span>\n              <span className=\"text-gray-400 text-xl hidden md:inline\">\n                {splitWordAndPos(right).pos}\n              </span>\n            </div>\n          </div>\n          {error && (\n            <div className=\"my-7 p-3 rounded border border-red-500 text-red-400 inline-block\">\n              ⚠ {(error as any).message}\n            </div>\n          )}\n          {isLoading && (\n            <div className=\"flex justify-center mt-10\">\n              <ClapSpinner frontColor=\"#3B82F6\" />\n            </div>\n          )}\n          {data && (\n            <div className=\"grid grid-cols-2 max-w-screen-lg mx-auto\">\n              <div>\n                <h1 className=\"py-5 text-xl\">\n                  ← <span className=\"hidden md:inline\">towards</span>{\" \"}\n                  <b>{splitWordAndPos(left).word}</b>\n                </h1>\n                <div>\n                  {data.topLeftSenses.map(([sense]) => (\n                    <div className=\"text-gray-300 pb-1\">\n                      {splitWordAndPos(sense).word}\n                      <span className=\"text-gray-400 pl-1 text-sm hidden md:inline\">\n                        {splitWordAndPos(sense).pos}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              <div>\n                <h1 className=\"py-5 text-xl\">\n                  <span className=\"hidden md:inline\">towards</span>{\" \"}\n                  <b>{splitWordAndPos(right).word}</b> →\n                </h1>\n                <div>\n                  {data.topRightSenses.map(([sense]) => (\n                    <div className=\"text-gray-300 pb-1\">\n                      {splitWordAndPos(sense).word}\n                      <span className=\"text-gray-400 pl-1 text-sm hidden md:inline\">\n                        {splitWordAndPos(sense).pos}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n        </>\n      ) : (\n        <div className=\"text-4xl\">Oh no! Page not found :'(</div>\n      )}\n    </div>\n  );\n};\n\nexport default DiffPage;\n","import React from \"react\";\nimport \"./App.css\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\nimport OctocatCorner from \"./components/OctocatCorner\";\nimport IntroPage from \"./pages/IntroPage\";\nimport DiffPage from \"./pages/DiffPage\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nconst queryClient = new QueryClient();\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <div className=\"App text-blue-50\">\n        <OctocatCorner />\n        <Router>\n          <Switch>\n            <Route exact path=\"/\">\n              <IntroPage />\n            </Route>\n            <Route exact path=\"/diff\">\n              <DiffPage />\n            </Route>\n          </Switch>\n        </Router>\n      </div>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { API_HOST } from \"./config\";\nimport ReactModal from \"react-modal\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nReactModal.setAppElement(\"#root\");\n\n// do a fetch to the base API url to wake up the server, as it can take a few seconds to start cold\nfetch(API_HOST);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}